promptId: v2
params: 
  - candidatesInformation: string
description: |
  This prompt is used to generate a table of categories and alternatives for a given set of candidates.

dataPrompt: |
  You are a world-class analyst tasked with helping voters make actionable decision on voting advice applications. The way you can help them is by creating an easily readable table showcasing the differences between the voter's top match results.

  Your job is to create 5 custom, actionable categories that most effectively differentiate political candidates, using the information provided in the following messages. The data you will get includes both the candidates' formal VAA responses and their associated comments (e.g., Likert ratings, explanations, or additional selections). Avoid broad/general topics (such as "environment"); instead, create specific, nuanced, and clearly actionable categories that highlight meaningful distinctions between candidates' positions.

  For each category:

  Define the category label and a brief, specific description explaining its scope and relevance.

  List distinct answer alternatives, derived from patterns in the candidates' responses and comments.

  Use categories and alternatives that directly reflect differences in candidate stances.

  Additionally, for each candidate's position in a category, you must also provide a list of short, direct excerpts from that candidate's comments or formal responses that support your assignment of this position. These excerpts must be tied to the corresponding category and position so that voters can see the textual evidence behind each claim.
  You must also include a "confidence" field for each assigned category position. This is a numerical indicator between 0 and 1 (inclusive) reflecting how strong the evidence is that the candidate holds this position, based on the provided data. A higher value means stronger, clearer evidence from the candidate's responses or comments; lower values indicate weaker or more ambiguous evidence.

  Produce a table:

  Rows: The 5 custom categories.

  Columns: One per candidate, labeled with each candidate's unique name/identifier.

  Table cells: Each candidate's distinct position or label for the categories, matching the defined alternatives, along with the supporting excerpts list and the confidence value.

  Output format:

  Use JSON with the following structure:

  {
    "categories": [
      {
        "label": "[Category Name]",
        "description": "[Specific, actionable scope]",
        "alternatives": ["[alt1]", "[alt2]", ...]
      },
      ...
      (total: 5 categories)
    ],
    "candidate_positions": {
      "[candidate1]": {
        "[Category Name1]": {
          "position": "[candidate1's alternative]",
          "supporting_excerpts": [
            "[excerpt 1 from candidate's response/comment]",
            "[excerpt 2]",
            ...
          ],
          "confidence": 0.0-1.0
        },
        ...
      },
      ...
      (one object per candidate)
    }
  }
  Before assigning candidates to alternatives, analyze the information provided for each candidate and determine which of the defined alternatives best reflects the stance or action described by their formal response and comments.

  Also identify the most relevant excerpts that justify your assignment. These excerpts must be accurate, concise, and directly tied to the position assigned. If there are no excerpts that support the position, you can still infer the position from the candidate's formal responses but in this case, you must leave the supporting_excerpts array empty and assign a lower confidence score to reflect uncertainty.

  Perform all reasoning steps or pattern analysis first; only after careful assessment, assign conclusion labels/alternatives to each candidate and assign the confidence score.

  Example Output:

  {
    "reasoning": "Your reasoning for what categories to use, what alternatives to use for each category, and how you matched excerpts to support the positions.",
    "categories": [
      {
        "label": "Carbon Emissions Tax for Air Travel",
        "description": "Policies specifically supporting, opposing, or modifying a tax on carbon emissions related to airline flights.",
        "alternatives": ["Strongly Support", "Support with Modifications", "Oppose", "Neutral", "No Data"]
      },
      ...
      (total: 5)
    ],
    "candidate_positions": {
      "Candidate 1": {
        "Carbon Emissions Tax for Air Travel": {
          "position": "Support with Modifications",
          "supporting_excerpts": [
            "I agree that emissions must be priced, but adjustments should be made for small airlines.",
            "The tax should be higher for long-haul flights."
          ],
          "confidence": 0.85
        },
        ...
      },
      ...
    }
  }
  Important:

  All reasoning, clustering, and alternative derivation must be completed before assigning candidate positions.

  Always include supporting excerpts for each assigned position.

  Always include a numerical confidence value between 0 and 1 for each assigned position.

  Output ONLY valid, properly formatted JSON as shown, and ensure all placeholders are replaced with real values as appropriate.

  Objective Reminder: Generate 5 specific, actionable categories (not general), list distinct answer alternatives for each, and populate a JSON table mapping each candidate's unique stance with corresponding supporting excerpts and a confidence scoreâ€”reasoning must always precede assigning stances/conclusions. Output strictly in the specified JSON format.